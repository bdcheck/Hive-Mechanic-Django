{% extends 'builder_base.html' %}
{% load static %}
{% load builder_tags %}

{% block 'page_title' %}All Players | Interaction Builder{% endblock %}

{% block 'page_help' %}
	<a href="#" class="material-icons mdc-top-app-bar__action-item" aria-label="Help" id="action_help">help</a>
{% endblock %}

{% block 'navigation_title' %}All Players{% endblock %}

{% block 'main_content' %}
	<div class="mdc-layout-grid">
		<div class="mdc-layout-grid__inner">
			<div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12" style="padding-bottom: 16px;">
				<div class="mdc-data-table">
					<table class="mdc-data-table__table" aria-label="All Games" id="table_players">
						<thead>
							<tr class="mdc-data-table__header-row">
								<th class="mdc-data-table__header-cell" role="columnheader" scope="col">Identifier</th>
								<th class="mdc-data-table__header-cell" role="columnheader" scope="col">Most Recent Game</th>
								<th class="mdc-data-table__header-cell" role="columnheader" scope="col">Joined</th>
								<th class="mdc-data-table__header-cell mdc-data-table__header-cell--numeric" role="columnheader" scope="col">Active Sessions</th>
								<th class="mdc-data-table__header-cell mdc-data-table__header-cell--numeric" role="columnheader" scope="col">Inactive Sessions</th>
								<th class="mdc-data-table__header-cell" role="columnheader" scope="col"></th>
							</tr>
						</thead>
						<tbody class="mdc-data-table__content">
							{% for player in players %}
								<tr class="mdc-data-table__row">
									<td class="mdc-data-table__cell">{{ player.identifier|obfuscate_identifier }}</a></td>
									<td class="mdc-data-table__cell">{{ player.most_recent_game }}</a></td>
									<td class="mdc-data-table__cell">{{ player.earliest_session.started }}</a></td>
									<td class="mdc-data-table__cell mdc-data-table__cell--numeric">{{ player.active_session_count }}</td>
									<td class="mdc-data-table__cell mdc-data-table__cell--numeric">{{ player.inactive_session_count }}</td>
									<td class="mdc-data-table__cell">
										<a href="#" class="material-icons action_delete_player" data-id="{{ player.pk }}" aria-hidden="true">delete_forever</a>
									</td>
								</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
{% endblock %}

{% block 'js_init' %}
	<script data-main="{% static 'builder-js/js/app/players.js' %}" src="{% static 'builder-js/vendor/require.js' %}"></script>
{% endblock %}
